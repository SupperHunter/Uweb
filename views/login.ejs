<!DOCTYPE html>
<html lang="en" data-bs-theme="light" data-pwa="true">
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->

<head>
  <meta charset="utf-8">

  <!-- Viewport -->
  <meta name="viewport"
    content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover">

  <!-- SEO Meta Tags -->
  <title>Sensetronics</title>
  <meta name="description" content="Cartzilla - Multipurpose Bootstrap E-Commerce HTML Template">
  <meta name="keywords"
    content="online shop, e-commerce, online store, market, multipurpose, product landing, cart, checkout, ui kit, light and dark mode, bootstrap, html5, css3, javascript, gallery, slider, mobile, pwa">
  <meta name="author" content="Createx Studio">

  <!-- Webmanifest + Favicon / App icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="/client2/assets/app-icons/icon-32x32.png" sizes="32x32">
  <link rel="apple-touch-icon" href="/client2/assets/app-icons/icon-180x180.png">

  <!-- Theme switcher (color modes) -->
  <script src="/client2/assets/js/theme-switcher.js"></script>

  <!-- Preloaded local web font (Inter) -->
  <link rel="preload" href="/client2/assets/fonts/inter-variable-latin.woff2" as="font" type="font/woff2"
    crossorigin="">
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <!-- Font icons -->
  <link rel="preload" href="/client2/assets/icons/cartzilla-icons.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="stylesheet" href="/client2/assets/icons/cartzilla-icons.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- Bootstrap + Theme styles -->
  <link rel="preload" href="/client2/assets/css/theme.min.css" as="style">
  <link rel="preload" href="/client2/assets/css/theme.rtl.min.css" as="style">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="/client2/assets/css/theme.min.css" id="theme-styles">
  <style>
    body {
      background-color: #f8f9fa;
      font-family: Arial, sans-serif;
    }

    .container {
      max-width: 1200px;
      margin-top: 50px;
    }

    .sign-in-card {
      padding: 30px;
    }

    .sign-in-card h2 {
      font-size: 32px;
      font-weight: bold;
    }

    .side-info {
      font-size: 16px;
      margin-left: 40px;
    }

    .side-info h5 {
      font-size: 20px;
      font-weight: bold;
    }

    .side-info p {
      font-size: 14px;
      color: #555;
    }

    .side-info .benefit {
      margin-bottom: 20px;
    }

    .side-info .benefit i {
      font-size: 24px;
      margin-right: 10px;
      color: #007bff;
    }

    .footer-info {
      font-size: 14px;
      text-align: center;
      margin-top: 50px;
      color: #555;
    }

    .modal-header {
      justify-content: space-between;
      /* Để các phần tử trong header cách xa nhau */
    }

    .modal-title {
      margin: 0;
      /* Đảm bảo không có khoảng cách không cần thiết */
    }

    .close {
      margin: 0;
      /* Đảm bảo không có khoảng cách không cần thiết */
    }
  </style>
  <!-- Customizer -->
  <script src="/client2/assets/js/customizer.min.js"></script>
</head>


<!-- Body -->

<body>

  <!-- Customizer offcanvas -->
  <div class="offcanvas offcanvas-end" id="customizer" tabindex="-1">
    <div class="offcanvas-header border-bottom">
      <h4 class="h5 offcanvas-title">Customize theme</h4>
      <button class="btn-close" type="button" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">

      <!-- Customizer settings -->
      <div class="customizer-collapse collapse show" id="customizerSettings">

        <!-- Colors -->
        <div class="pb-4 mb-2">
          <div class="d-flex align-items-center mb-3">
            <i class="ci-paint text-body-tertiary fs-5 me-2"></i>
            <h5 class="fs-lg mb-0">Colors</h5>
          </div>
          <div class="row row-cols-2 g-3" id="theme-colors">
            <div class="col">
              <h6 class="fs-sm mb-2">Primary</h6>
              <div class="color-swatch d-flex border rounded gap-3 p-2" id="theme-primary"
                data-color-labels="[&quot;theme-primary&quot;, &quot;primary&quot;, &quot;primary-rgb&quot;]">
                <input type="text" class="form-control bg-transparent border-0 rounded-0 p-1" value="#f55266">
                <label for="primary" class="ratio ratio-1x1 flex-shrink-0 w-100 cursor-pointer rounded-circle"
                  style="max-width: 38px; background-color: #f55266"></label>
                <input type="color" class="visually-hidden" id="primary" value="#f55266">
              </div>
            </div>
            <div class="col">
              <h6 class="fs-sm mb-2">Success</h6>
              <div class="color-swatch d-flex border rounded gap-3 p-2" id="theme-success"
                data-color-labels="[&quot;theme-success&quot;, &quot;success&quot;, &quot;success-rgb&quot;]">
                <input type="text" class="form-control bg-transparent border-0 rounded-0 p-1" value="#33b36b">
                <label for="success" class="ratio ratio-1x1 flex-shrink-0 w-100 cursor-pointer rounded-circle"
                  style="max-width: 38px; background-color: #33b36b"></label>
                <input type="color" class="visually-hidden" id="success" value="#33b36b">
              </div>
            </div>
            <div class="col">
              <h6 class="fs-sm mb-2">Warning</h6>
              <div class="color-swatch d-flex border rounded gap-3 p-2" id="theme-warning"
                data-color-labels="[&quot;theme-warning&quot;, &quot;warning&quot;, &quot;warning-rgb&quot;]">
                <input type="text" class="form-control bg-transparent border-0 rounded-0 p-1" value="#fc9231">
                <label for="warning" class="ratio ratio-1x1 flex-shrink-0 w-100 cursor-pointer rounded-circle"
                  style="max-width: 38px; background-color: #fc9231"></label>
                <input type="color" class="visually-hidden" id="warning" value="#fc9231">
              </div>
            </div>
            <div class="col">
              <h6 class="fs-sm mb-2">Danger</h6>
              <div class="color-swatch d-flex border rounded gap-2 p-2" id="theme-danger"
                data-color-labels="[&quot;theme-danger&quot;, &quot;danger&quot;, &quot;danger-rgb&quot;]">
                <input type="text" class="form-control bg-transparent border-0 rounded-0 p-1" value="#f03d3d">
                <label for="danger" class="ratio ratio-1x1 flex-shrink-0 w-100 cursor-pointer rounded-circle"
                  style="max-width: 38px; background-color: #f03d3d"></label>
                <input type="color" class="visually-hidden" id="danger" value="#f03d3d">
              </div>
            </div>
            <div class="col">
              <h6 class="fs-sm mb-2">Info</h6>
              <div class="color-swatch d-flex border rounded gap-2 p-2" id="theme-info"
                data-color-labels="[&quot;theme-info&quot;, &quot;info&quot;, &quot;info-rgb&quot;]">
                <input type="text" class="form-control bg-transparent border-0 rounded-0 p-1" value="#2f6ed5">
                <label for="info" class="ratio ratio-1x1 flex-shrink-0 w-100 cursor-pointer rounded-circle"
                  style="max-width: 38px; background-color: #2f6ed5"></label>
                <input type="color" class="visually-hidden" id="info" value="#2f6ed5">
              </div>
            </div>
          </div>
        </div>

        <!-- Direction -->
        <div class="pb-4 mb-2">
          <div class="d-flex align-items-center pb-1 mb-2">
            <i class="ci-sort text-body-tertiary fs-lg me-2" style="transform: rotate(90deg)"></i>
            <h5 class="fs-lg mb-0">Direction</h5>
          </div>
          <div class="d-flex align-items-center justify-content-between border rounded p-3">
            <div class="me-3">
              <h6 class="mb-1">RTL</h6>
              <p class="fs-sm mb-0">Change text direction</p>
            </div>
            <div class="form-check form-switch m-0">
              <input type="checkbox" class="form-check-input" role="switch" id="rtl-switch">
            </div>
          </div>
          <div class="alert alert-info p-2 mt-2 mb-0">
            <div class="d-flex text-body-emphasis fs-xs py-1 pe-1">
              <i class="ci-info text-info fs-lg mb-2 mb-sm-0" style="margin-top: .125rem"></i>
              <div class="ps-2">To switch the text direction of your webpage from LTR to RTL, please consult the
                detailed instructions provided in the relevant section of our documentation.</div>
            </div>
          </div>
        </div>

        <!-- Border width -->
        <div class="pb-4 mb-2">
          <div class="d-flex align-items-center pb-1 mb-2">
            <i class="ci-menu text-body-tertiary fs-lg me-2"></i>
            <h5 class="fs-lg mb-0">Border width, px</h5>
          </div>
          <div class="slider-input d-flex align-items-center gap-3 border rounded p-3" id="border-input">
            <input type="range" class="form-range" min="0" max="10" step="1" value="1">
            <input type="number" class="form-control" id="border-width" min="0" max="10" value="1"
              style="max-width: 5.5rem">
          </div>
        </div>

        <!-- Rounding -->
        <div class="d-flex align-items-center pb-1 mb-2">
          <i class="ci-maximize text-body-tertiary fs-lg me-2"></i>
          <h5 class="fs-lg mb-0">Rounding, rem</h5>
        </div>
        <div class="slider-input d-flex align-items-center gap-3 border rounded p-3">
          <input type="range" class="form-range" min="0" max="5" step=".05" value="0.5">
          <input type="number" class="form-control" id="border-radius" min="0" max="5" step=".05" value="0.5"
            style="max-width: 5.5rem">
        </div>
      </div>

      <!-- Customizer code -->
      <div class="customizer-collapse collapse" id="customizerCode">
        <div class="nav mb-3">
          <a class="nav-link animate-underline fs-base p-0" href="#" data-bs-toggle="collapse" aria-expanded="true"
            aria-controls="customizerSettings customizerCode">
            <i class="ci-chevron-left fs-lg ms-n1 me-1"></i>
            <span class="animate-target">Back to settings</span>
          </a>
        </div>
        <p class="fs-sm pb-1">To apply the provided styles to your webpage, enclose them within a
          <code>&lt;style&gt;</code> tag and insert this tag into the <code>&lt;head&gt;</code> section of your HTML
          document after the following link to the main
          stylesheet:<br><code>&lt;link href="/client2/assets/css/theme.min.css"&gt;</code>
        </p>
        <div class="position-relative bg-body-tertiary rounded overflow-hidden pt-3">
          <div class="position-absolute top-0 start-0 w-100 p-3">
            <button type="button" class="btn btn-sm btn-outline-dark w-100" data-copy-text-from="#generated-styles"
              data-done-label="Code copied">
              <i class="ci-copy fs-sm me-1"></i>
              Copy code
            </button>
          </div>
          <pre class="text-wrap bg-transparent border-0 fs-xs text-body-emphasis p-4 pt-5" id="generated-styles"></pre>
        </div>
      </div>
    </div>

    <!-- Offcanvas footer (Action buttons) -->
    <div class="offcanvas-header border-top gap-3 d-none" id="customizer-btns">
      <button type="button" class="btn btn-lg btn-secondary w-100 fs-sm" id="customizer-reset">
        <i class="ci-trash fs-lg me-2 ms-n1"></i>
        Reset
      </button>
      <button class="btn btn-lg btn-primary hiding-collapse-toggle w-100 fs-sm collapsed" type="button"
        data-bs-toggle="collapse" data-bs-target=".customizer-collapse" aria-expanded="false"
        aria-controls="customizerSettings customizerCode">
        <i class="ci-code fs-lg me-2 ms-n1"></i>
        Show code
      </button>
    </div>
  </div>


  <!-- Page content -->
  <main class="content-wrapper w-100 px-3 ps-lg-5 pe-lg-4 mx-auto" style="max-width: 1920px">
    <div class="d-lg-flex">

      <!-- Login form + Footer -->
      <div class="d-flex flex-column min-vh-100 w-100 py-4 mx-auto me-lg-5" style="max-width: 100%">

        <!-- Logo -->
        <header class="navbar px-0 pb-4 mt-n2 mt-sm-0 mb-2 mb-md-3 mb-lg-4">
          <a href="/" class="navbar-brand pt-0">
            <span class="d-flex flex-shrink-0 text-primary me-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36">
                <path
                  d="M36 18.01c0 8.097-5.355 14.949-12.705 17.2a18.12 18.12 0 0 1-5.315.79C9.622 36 2.608 30.313.573 22.611.257 21.407.059 20.162 0 18.879v-1.758c.02-.395.059-.79.099-1.185.099-.908.277-1.817.514-2.686C2.687 5.628 9.682 0 18 0c5.572 0 10.551 2.528 13.871 6.517 1.502 1.797 2.648 3.91 3.359 6.201.494 1.659.771 3.436.771 5.292z"
                  fill="currentColor"></path>
                <g fill="#fff">
                  <path
                    d="M17.466 21.624c-.514 0-.988-.316-1.146-.829-.198-.632.138-1.303.771-1.501l7.666-2.469-1.205-8.254-13.317 4.621a1.19 1.19 0 0 1-1.521-.75 1.19 1.19 0 0 1 .751-1.521l13.89-4.818c.553-.197 1.166-.138 1.64.158a1.82 1.82 0 0 1 .85 1.284l1.344 9.183c.138.987-.494 1.994-1.482 2.33l-7.864 2.528-.375.04zm7.31.138c-.178-.632-.85-1.007-1.482-.81l-5.177 1.58c-2.331.79-3.28.02-3.418-.099l-6.56-8.412a4.25 4.25 0 0 0-4.406-1.758l-3.122.987c-.237.889-.415 1.777-.514 2.686l4.228-1.363a1.84 1.84 0 0 1 1.857.81l6.659 8.551c.751.948 2.015 1.323 3.359 1.323.909 0 1.857-.178 2.687-.474l5.078-1.54c.632-.178 1.008-.829.81-1.481z">
                  </path>
                  <use href="#czlogo"></use>
                  <use href="#czlogo" x="8.516" y="-2.172"></use>
                </g>
                <defs>
                  <path id="czlogo"
                    d="M18.689 28.654a1.94 1.94 0 0 1-1.936 1.935 1.94 1.94 0 0 1-1.936-1.935 1.94 1.94 0 0 1 1.936-1.935 1.94 1.94 0 0 1 1.936 1.935z">
                  </path>
                </defs>
              </svg>
            </span>
            SENSETRONICS
          </a>
        </header>

        <div class="container">
          <div class="row">
            <div class="col-md-6">
              <div class="sign-in-card">
                <h1 class="mb-4">Sign In</h1>
                <form id="login-form" style="width: 75%;">
                  <div class="form-group">
                    <label for="text" style="margin-bottom:10px;">UserName</label>
                    <input type="text" style="border-radius: 0; margin-bottom: 10px;" class="form-control" id="username"
                      name="username" placeholder="Username Or Email..." required>
                  </div>
                  <div class="form-group">
                    <label for="password" style="margin-bottom:10px;">Password</label>
                    <input type="password" style="border-radius: 0; margin-bottom: 10px;" class="form-control"
                      id="password" name="password" placeholder="Password" required>
                  </div>
                  <div class="d-flex" style="justify-content: space-between; align-items: center;">
                    <button type="submit" class="btn btn-primary btn-block mb-3"
                      style="border-radius: 0; margin-bottom: 10px;">Sign
                      In</button>
                    <a href="#" data-toggle="modal" data-target="#forgotPasswordModal">Forgot Password?</a>
                  </div>
                  <div id="message" style="color: red; margin-top: 10px;"></div>
                </form>
              </div>
            </div>
            <div class="col-md-6 d-flex align-items-center">
              <div class="side-info">
                <h5>Don't have an account?</h5>
                <p>Here are some of the benefits you'll enjoy:</p>
                <div class="benefit">
                  <i class="fas fa-shopping-cart"></i>

                  <p><strong>Fast checkout</strong><br /> Your payment info is saved and ready.</p>
                </div>
                <div class="benefit">
                  <i class="fas fa-map-marker-alt"></i>
                  <p><strong> Easy tracking</strong><br /> Keep an eye on your order.</p>
                </div>
                <div class="benefit">
                  <i class="fas fa-history"></i>
                  <p><strong> Quick recap</strong><br /> Your order history is a click away.</p>
                </div>
                <div>
                  <a href="/register" class="btn btn-link">Create an account &gt;</a>
                </div>
              </div>
            </div>
          </div>

        </div>


      </div>



    </div>
  </main>

  <!-- Customizer toggle -->
  <div class="floating-buttons position-fixed top-50 end-0 z-sticky me-3 me-xl-4 pb-4">
    <a class="btn btn-sm btn-outline-secondary text-uppercase bg-body rounded-pill shadow animate-rotate ms-2 me-n5"
      href="#customizer" style="font-size: .625rem; letter-spacing: .05rem;" data-bs-toggle="offcanvas" role="button"
      aria-controls="customizer">
      Customize<i class="ci-settings fs-base ms-1 me-n2 animate-target"></i>
    </a>
  </div>


  <div class="modal fade" id="forgotPasswordModal" tabindex="-1" role="dialog"
    aria-labelledby="forgotPasswordModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="forgotPasswordModalLabel">Forgot Password</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form id="requestPasswordResetForm" action="/requestpasswordreset" method="post" style="margin-top: -20px;">
            <div class="form-group">
              <label for="forgotEmail">Enter your email address</label>
              <input type="email" class="form-control" id="forgotEmail" required>
              <div id="responseMessage" style="margin-top: 10px; color: red;"></div> <!-- Div to display messages -->
            </div>
            <button type="submit" style="margin-top: 10px;" class="btn btn-primary">Send Reset Link</button>
          </form>
        </div>
      </div>
    </div>
  </div>


  <!-- Bootstrap + Theme scripts -->
  <script src="/client2/assets/js/theme.min.js"></script>


  <script>

    function containsMaliciousCode(input) {
      const pattern = /<.*script.*>|<\/.*script.*>/i; // Kiểm tra có thẻ <script> không
      return pattern.test(input);
    }

    $(document).ready(function () {
      $('#requestPasswordResetForm').on('submit', function (e) {
        e.preventDefault(); // Correctly prevent the default form submission

        const email = $('#forgotEmail').val();
        console.log(email); // Log email for debugging

        $.ajax({
          url: '/requestpasswordreset',
          type: 'POST',
          contentType: 'application/json',
          data: JSON.stringify({ email: email }),
          success: function (response) {
            console.log(response)
            if (response.status) window.location.href = 'renderCheckcode?email=' + encodeURIComponent(email);
          },
          error: function (xhr) {
            // Check the error code to display appropriate message
            if (xhr.status === 404) { // Assuming 404 for email not found
              $('#responseMessage').css('color', 'red').text('Email not found. Please try again.');
            } else {
              $('#responseMessage').css('color', 'red').text('An error occurred. Please try again later.');
            }
          }
        });

        // Hide the modal after the AJAX call
        $('#forgotPasswordModal').modal('hide');
      });

      $('#login-form').on('submit', function (event) {
        event.preventDefault(); // Prevent the default form submission

        const username = $('#username').val();
        const password = $('#password').val();

        if (containsMaliciousCode(username) || containsMaliciousCode(password)) {
          document.getElementById("message").innerText = "Invalid code is not allowed in the form.";
          return;
        }
        $.ajax({
          url: '/login', // Your login endpoint
          type: 'POST',
          contentType: 'application/json',
          data: JSON.stringify({ username, password }),
          success: function (response) {
            if (response.status) {
              localStorage.setItem('authToken', response.token);
              if (response.user.roleId === 1) {
                window.location.href = '/admin/products';
                return;
              }
              window.location.href = '/'; // Redirect to your desired page
            } else {
              // Show error message from the response
              $('#message').text(response.message);
            }
          },
          error: function (jqXHR) {
            // Handle errors and show messages
            const response = jqXHR.responseJSON;
            if (response) {
              $('#message').text(response.message || 'An unexpected error occurred.');
            } else {
              $('#message').text('An unexpected error occurred.');
            }
          }
        });
      });

    });

  </script>

</body>

</html>